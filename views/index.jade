extends layout

block content
  h1= title
  p Welcome to #{title}
  script(src="/socket.io/socket.io.js")
  script(src="/javascripts/jquery.min.js")
  script(src="/javascripts/responsiveVoice.js")
  script.
    var tick = new Audio('/audio/tic.wav');
    var airplane = new Audio('/audio/airplane.wav');
    var bird = new Audio('/audio/bird.wav');
    var cat = new Audio('/audio/cat.wav');
    var duck = new Audio('/audio/duck.wav');
    var elephant = new Audio('/audio/elephant.wav');
    var frog = new Audio('/audio/frog.wav');
    var goose = new Audio('/audio/goose.wav');
    var insect = new Audio('/audio/insect.wav');
    var jackhammer = new Audio('/audio/jackhammer.wav');
    var loon = new Audio('/audio/loon.wav');
    var monkey = new Audio('/audio/monkey.wav');
    var rooster = new Audio('/audio/rooster.wav');
    var ship = new Audio('/audio/ship.wav');
    var turkey = new Audio('/audio/turkey.wav');
    var uboat = new Audio('/audio/uboat.wav');
    var ack = new Audio('/audio/SB.wav');
    var socket = io();

    socket.on('connect', function(){});

    socket.on('httpServer', function (data) {
      if(!responsiveVoice.isPlaying()) {
        play(data);
        socket.emit('silent');
      } else {
        socket.emit('playing');
      }
    });

    socket.on('disconnect', function(){});

    function play(data) {
      switch(data) {
        case "Tick":
          tick.play();
          break;
        case "Airplane":
          airplane.play();
          break;
        case "Bird":
          bird.play();
          break;
        case "Cat":
          cat.play();
          break;
        case "Duck":
          duck.play();
          break;
        case "Elephant":
          elephant.play();
          break;
        case "Frog":
          frog.play();
          break;
        case "Goose":
          goose.play();
          break;
        case "Insect":
          insect.play();
          break;
        case "Jackhammer":
          jackhammer.play();
          break;
        case "Loon":
          loon.play();
          break;
        case "Monkey":
          monkey.play();
          break;
        case "Rooster":
          rooster.play();
          break;
        case "Ship":
          ship.play();
          break;
        case "Turkey":
          turkey.play();
          break;
        case "U-boat":
          uboat.play();
          break;
        case "Acknowledge":
          ack.play();
          break;
        default:
          responsiveVoice.speak(data);
      }

      console.log(data);
      document.write(data + "\r\n");
    }